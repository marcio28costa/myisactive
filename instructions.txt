üìò Projeto: MYISACTIVE
üîç Vis√£o Geral
Sistema de monitoramento customizado, inspirado no "Who Is Active" do SQL Server, adaptado para MySQL 5.7 e 8.0.

üß± Estrutura
üìÇ Base de Dados
MYISACTIVE ‚Äì Armazena logs de sess√µes, locks e estat√≠sticas importantes de performance.

üìë Tabelas Criadas
Tabela	Finalidade
LOG_SESSOES_ATIVAS	Captura sess√µes ativas no MySQL (threads, comandos, tempo, etc.)
LOG_LOCKS_ATIVOS	Coleta informa√ß√µes de transa√ß√µes envolvidas em locks (bloqueios)
LOG_ESTATISTICAS_MYSQL	Armazena estat√≠sticas de status do servidor (SHOW GLOBAL STATUS)
LOG_INNODB_STATUS_LOCK	Armazena a sa√≠da do SHOW ENGINE INNODB STATUS quando detectado lock

‚öôÔ∏è Procedures Principais
Procedure	Descri√ß√£o
CAPTURAR_SESSOES_ATIVAS	Captura e insere sess√µes ativas no log
CAPTURAR_LOCKS_ATIVOS	Registra locks ativos, com detalhes de quem est√° bloqueando
CAPTURAR_ESTATISTICAS	Coleta principais vari√°veis de status global e incrementa contadores
COLETAR_INNODB_STATUS_SE_LOCK	Captura o SHOW ENGINE INNODB STATUS e grava o conte√∫do (ideal ap√≥s detectar locks)

üëÅÔ∏è Views de Apoio
View	Descri√ß√£o
VW_SESSOES_ATIVAS_RESUMO	Resumo por minuto e comando das sess√µes ativas

‚è∞ Eventos Agendados
Evento	Frequ√™ncia	A√ß√£o
EVT_COLETAR_SESSOES	Personaliz√°vel	Coleta sess√µes ativas (com controle por GET_LOCK)
EVT_TRUNCAR_LOGS_00H	Segunda-feira 00:00	Faz TRUNCATE nas tabelas de log
EVT_TRUNCAR_LOGS_08H	Segunda-feira 08:00	Repete o TRUNCATE para garantir limpeza

üõ†Ô∏è Orienta√ß√µes de Uso
1.	1. Ativar agendador de eventos no MySQL:
SET GLOBAL event_scheduler = ON;
2.	2. Executar a coleta de sess√µes ativas manualmente ou via evento programado.
3.	3. Utilizar CAPTURAR_LOCKS_ATIVOS para detectar locks. Caso haja, chame:
CALL MYISACTIVE.COLETAR_INNODB_STATUS_SE_LOCK();
4.	4. Analisar dados por views ou exportar para dashboards, como Power BI.
5.	5. Evitar ac√∫mulo de dados, mantendo os eventos de TRUNCATE ativos semanalmente.

üí° Dicas
- Adicione √≠ndices em colunas de data para melhorar performance.
- Use particionamento se o volume de dados for muito alto.
- Automatize alertas para quantidade de sess√µes ou locks cr√≠ticos.
